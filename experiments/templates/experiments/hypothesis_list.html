
{% extends 'experiments/base.html' %}

{% block body %}

<!-- Load plotly.js into the DOM -->
<script src='https://cdn.plot.ly/plotly-2.11.1.min.js'></script>

<div class="container horizontal-scrollable">
    <div class="row justify-content-start" >
		<!-- Hypothesis -->
        <div class="col" style="background-color: beige;">
            {% for hyp in object_list %}
			<a href="{{ hyp.get_absolute_url }}">{{ hyp.name }}</a><br>
            {% empty %}
                <p>No runs yet.</p>
            {% endfor %}
        </div>
		<!-- Runs -->
        <div class="col" style="background-color:bisque; overflow-x: scroll;">
                {% for run in runs %}
				<a href="{{ run.get_absolute_url }}">{{ run.datetime|date }} - {{ run.name }}_seed{{ run.seed }}</a><br>
                {% empty %}
                    <p>No runs yet.</p>
                {% endfor %}
        </div>
		<!-- Scalars -->
        <div class="col-7" style="background-color:cornsilk">
			{% for tag in scalar_tags %}
				<div class="row">
					<div class="col">
						<h5>{{tag}}</h5>
						<div id='{{tag}}Div'></div>
					</div>
				</div>
			{% endfor %}
        </div>
    </div>
</div>

{{ scalar_data|json_script:"scalar_data" }}

<script>
    var scalars = JSON.parse(document.getElementById('scalar_data').textContent);
	// <!-- trace1.showlegend = false; -->

	var layout = {
	  paper_bgcolor: "rgb(255,255,255)", 
	  plot_bgcolor: "rgb(229,229,229)", 
	  xaxis: {
		gridcolor: "rgb(255,255,255)", 
		range: [1, 10], 
		showgrid: true, 
		showline: false, 
		showticklabels: true, 
		tickcolor: "rgb(127,127,127)", 
		ticks: "outside", 
		zeroline: false
	  }, 
	  yaxis: {
		gridcolor: "rgb(255,255,255)", 
		showgrid: true, 
		showline: false, 
		showticklabels: true, 
		tickcolor: "rgb(127,127,127)", 
		ticks: "outside", 
		zeroline: false
	  }
	};

	for (var k in scalars) {
		Plotly.newPlot(k + "Div", [scalars[k]], layout);
	}
</script>


{% endblock %}
